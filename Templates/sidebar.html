<nav id="sidebar" class="{{ 'close' if request.cookies.get('sp_sidebar') == 'close' else '' }}">
  <ul>
    <!-- header row -->
    <!-- <li class="logo-row">
      <span class="logo">SALESPULSE</span>
      <button id="toggle-btn" aria-label="Toggle sidebar">
        hamburger / arrows
        <svg viewBox="0 0 24 24"><path d="M4 6h16M4 12h10M4 18h16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
      </button>
    </li> -->

    <li class="logo-row">
      <a href="#" class="brand">
        <!-- Full logo (text + heart) -->
        <img
          class="logo-full"
          src="{{ url_for('static', filename='img/salespulse-logo.png') }}"
          alt="SalesPulse"
          loading="eager" decoding="async"
        />
        <!-- Collapsed-only “heart” slice (uses the same file, cropped via CSS) -->
        <img
          class="logo-icon"
          src="{{ url_for('static', filename='img/salespulse-logo.png') }}"
          alt="SalesPulse"
          loading="eager" decoding="async"
        />
      </a>
    
      <button id="toggle-btn" aria-label="Toggle sidebar">
        <svg viewBox="0 0 24 24"><path d="M4 6h16M4 12h10M4 18h16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
      </button>
    </li>
    

    <li class="section-title">OVERVIEW</li>

    <!-- <li class="{{ 'active' if request.endpoint == 'home' else '' }}">
      <a href="" class="nav-item">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bricks" viewBox="0 0 16 16"><path d="M0 .5A.5.5 0 0 1 .5 0h15a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H14v2h1.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H14v2h1.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5H2v-2H.5a.5.5 0 0 1-.5-.5v-3A.5.5 0 0 1 .5 6H2V4H.5a.5.5 0 0 1-.5-.5zM3 4v2h4.5V4zm5.5 0v2H13V4zM3 10v2h4.5v-2zm5.5 0v2H13v-2zM1 1v2h3.5V1zm4.5 0v2h5V1zm6 0v2H15V1zM1 7v2h3.5V7zm4.5 0v2h5V7zm6 0v2H15V7zM1 13v2h3.5v-2zm4.5 0v2h5v-2zm6 0v2H15v-2z"/></svg>
        <span class="text">Home</span>
      </a>
    </li> -->

    <li class="{{ 'active' if request.endpoint == 'dashboard.dashboard_page' else '' }}">
      <a href="{{ url_for('dashboard.dashboard_page') }}" class="nav-item">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M520-640v-160q0-17 11.5-28.5T560-840h240q17 0 28.5 11.5T840-800v160q0 17-11.5 28.5T800-600H560q-17 0-28.5-11.5T520-640ZM120-480v-320q0-17 11.5-28.5T160-840h240q17 0 28.5 11.5T440-800v320q0 17-11.5 28.5T400-440H160q-17 0-28.5-11.5T120-480Zm400 320v-320q0-17 11.5-28.5T560-520h240q17 0 28.5 11.5T840-480v320q0 17-11.5 28.5T800-120H560q-17 0-28.5-11.5T520-160Zm-400 0v-160q0-17 11.5-28.5T160-360h240q17 0 28.5 11.5T440-320v160q0 17-11.5 28.5T400-120H160q-17 0-28.5-11.5T120-160Zm80-360h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"/></svg>
        <span class="text">Dashboard</span>
        <span class="badge">3</span>
      </a>
    </li>

    <!-- SELL IN -->
    <li class="has-flyout">
      <button class="dropdown-btn" onclick="toggleSubMenu(this)" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0 0v-480 480Zm400-160v40q0 17 11.5 28.5T600-320q17 0 28.5-11.5T640-360v-40h40q17 0 28.5-11.5T720-440q0-17-11.5-28.5T680-480h-40v-40q0-17-11.5-28.5T600-560q-17 0-28.5 11.5T560-520v40h-40q-17 0-28.5 11.5T480-440q0 17 11.5 28.5T520-400h40Z"/></svg>
        <span class="text">Sell In</span>
        <svg class="chev" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" fill="currentColor"/></svg>
      </button>
      <ul class="sub-menu">
        <div style="padding-left: 30px;">
          <li class="{{ 'active' if request.endpoint == 'sell_in.view_sellin' else '' }}"><a href="{{ url_for('sell_in.view_sellin') }}">General View</a></li>
          
        </div>
      </ul>
      <!-- flyout for collapsed state -->
      <div class="flyout">
        <div class="title">Sell In</div>
        <ul class="sub-menu show"><div>
          <li><a href="{{ url_for('sell_in.view_sellin') }}">General View</a></li>
        </div></ul>
      </div>
    </li>

    <!-- SELL OUT -->
    <li class="has-flyout">
      <button class="dropdown-btn" onclick="toggleSubMenu(this)" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="m221-313 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-228q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm0-320 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-548q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm339 353q-17 0-28.5-11.5T520-320q0-17 11.5-28.5T560-360h280q17 0 28.5 11.5T880-320q0 17-11.5 28.5T840-280H560Zm0-320q-17 0-28.5-11.5T520-640q0-17 11.5-28.5T560-680h280q17 0 28.5 11.5T880-640q0 17-11.5 28.5T840-600H560Z"/></svg>
        <span class="text">Sell Out </span>
        <svg class="chev" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" fill="currentColor"/></svg>
      </button>
      <ul class="sub-menu">
        <div style="padding-left: 30px;">
          <li><a href="{{ url_for('sell_out.front') }}">Upload Sell-out</a></li>
          <li><a href="{{ url_for('sell_out.front') }}">Add Sell-out</a></li>
          <li><a href="{{ url_for('sell_out_approvals.approvals_ui') }}">Pending Approval <span class="badge badge-child">{{ pending_count or 8 }}</span></a></li>
          <!-- <li><a href="#">Approved</a></li> -->
          <!-- <li><a href="#">Rejected</a></li> -->
        </div>
      </ul>
      <div class="flyout">
        <div class="title">Sell Out</div>
        <ul class="sub-menu show">
          <div>
            <li><a href="{{ url_for('sell_out.front') }}">Upload Sell-out</a></li>
            <li><a href="{{ url_for('sell_out.front') }}">Add Sell-out</a></li>
            <li><a href="{{ url_for('sell_out_approvals.approvals_ui') }}">Pending Approval <span class="badge badge-child">{{ pending_count or 8 }}</span></a></li>
            <!-- <li><a href="#">Approved</a></li> -->
            <!-- <li><a href="#">Rejected</a></li> -->
          </div>
        </ul>
      </div>
    </li>

    <li class="{{ 'active' if request.endpoint == 'soh.front' else '' }}">
      <a href="{{ url_for('soh.front') }}">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shop" viewBox="0 0 16 16"><path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.37 2.37 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0M1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5M4 15h3v-5H4zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3 0h-2v3h2z"/></svg>
        <span class="text">Stock On Hand</span>
      </a>
    </li>

    <li class="{{ 'active' if request.endpoint == 'soh.front' else '' }}">
      <a href="{{ url_for('customer_management_bp.page') }}">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shop" viewBox="0 0 16 16"><path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.37 2.37 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0M1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5M4 15h3v-5H4zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3 0h-2v3h2z"/></svg>
        <span class="text">Customer Management</span>
      </a>
    </li>

    <li>
      <a href="#">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-check" viewBox="0 0 16 16"><path d="M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z"/><path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zm3.915 10L3.102 4h10.796l-1.313 7zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>
        <span class="text">Promotions</span>
      </a>
    </li>

    <li class="has-flyout">
      <button class="dropdown-btn" onclick="toggleSubMenu(this)" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-bar-graph" viewBox="0 0 16 16"><path d="M10 13.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5zm-2.5.5a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5zm-3 0a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5z"/><path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"/></svg>
        <span class="text">Reports</span>
        <svg class="chev" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" fill="currentColor"/></svg>
      </button>

      <ul class="sub-menu">
        <div style="padding-left: 30px;">
          <li>
            <a href="{{ url_for('sales_pulse_general.index') }}">Sales Pulse Report</a>
          </li>
          <li>
            <a href="{{ url_for('fifo_aging_sa.page') }}">Customer Stock Aging</a>
          </li>
          <li>
            <a href="{{ url_for('overselling.index') }}">Overselling Report</a>
          </li>
          <li>
            <a href="{{ url_for('daily_report.page') }}">Daily Report</a>
          </li>
          <li>
            <a href="#">Customer Address Book</a>
          </li>
        </div>
      </ul>

      <div class="flyout">
        <div class="title">Reports</div>
        <ul class="sub-menu show">
          <div>
            <li>
              <a href="{{ url_for('sales_pulse_general.index') }}">Sales Pulse Report</a>
            </li>
            <li>
              <a href="{{ url_for('fifo_aging_sa.page') }}">Customer Stock Aging</a>
            </li>
            <li>
              <a href="{{ url_for('overselling.index') }}">Overselling Report</a>
            </li>
            <li>
              <a href="{{ url_for('daily_report.page') }}">Daily Report</a>
            </li>
            <li>
              <a href="#">Customer Address Book</a>
            </li>
          </div>
        </ul>
      </div>
    </li>

    <li class="has-flyout">
      <button class="dropdown-btn" onclick="toggleSubMenu(this)" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-wide-connected" viewBox="0 0 16 16"><path d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5m0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78zM5.048 3.967l-.087.065zm-.431.355A4.98 4.98 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8zm.344 7.646.087.065z"/></svg>
        <span class="text">Settings</span>
        <svg class="chev" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" fill="currentColor"/></svg>
      </button>

      <ul class="sub-menu">
        <div style="padding-left: 30px;">
          <li>
            <a href="{{ url_for('masters.masters_ui') }}">
              Master Data
            </a>
          </li>
          <li>
            <a href="{{ url_for('sell_in.set_user_filters') }}">
              Sell-in Filters
            </a>
          </li>
          <li>
            <a href="{{ url_for('sellout_profiles.list_profiles') }}">
              Sell-out Profiles
            </a>
          </li>
        </div>
      </ul>
      
      <div class="flyout">
        <div class="title">Settings</div>
        <ul class="sub-menu show"><div>
          <li><a href="{{ url_for('masters.masters_ui') }}"></a></li>
          <li><a href="{{ url_for('sell_in.set_user_filters') }}"></a></li>
          <li><a href="{{ url_for('sellout_profiles.list_profiles') }}"></a></li>
        </div></ul>
      </div>
    </li>

    <li class="has-flyout">
      <button class="dropdown-btn" onclick="toggleSubMenu(this)" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16"><path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/></svg>
        <span class="text">User Access</span>
        <svg class="chev" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" fill="currentColor"/></svg>
      </button>

      <ul class="sub-menu">
        <div style="padding-left: 30px;">
          <li>
            <a href="{{ url_for('user_admin.users_create_form') }}">Create User</a>
          </li>
          <li>
            <a href="{{ url_for('user_admin.users_access_page') }}">Manage Access</a>
          </li>
          <li>
            <a href="#">
              User Audit Logs
            </a>
          </li>
        </div>
      </ul>
      
      <div class="flyout">
        <div class="title">User Access</div>
        <ul class="sub-menu show"><div>
          <li>
            <a href="{{ url_for('user_admin.users_create_form') }}">Create User</a>
          </li>
          <li>
            <a href="{{ url_for('user_admin.users_access_page') }}">Manage Access</a>
          </li>
          <li>
            <a href="#">
              User Audit Logs
            </a>
          </li>
        </div></ul>
      </div>
    </li>

    <!-- <li>
      <a href="{{ url_for('masters.masters_ui') }}">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-wide-connected" viewBox="0 0 16 16"><path d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5m0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78zM5.048 3.967l-.087.065zm-.431.355A4.98 4.98 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8zm.344 7.646.087.065z"/></svg>
        <span class="text">Master Data</span>
      </a>
    </li> -->
  </ul>
</nav>
